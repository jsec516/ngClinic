<div id="glab-register" data-title="Register to be a member of anantahealth">
    <div  [hidden]="!authService.successMsg" class="alert alert-success"  role="alert">{{authService.successMsg}}</div>
    <div  [hidden]="!authService.registerError" class="alert alert-danger"  role="alert">{{authService.registerError}}</div>
    
    <form role="form" *ngIf="!authService.successMsg" (ngSubmit)="doRegister()" [ngFormModel]="registerForm" #f="ngForm" method="post" data-update="#regSuccess" action="submitRegister" class="glab-register-form glab-form">

        <div class="form-group required">
            <label for="fName" class="col-md-8 control-label">First Name</label>
            <input type="text" ngControl="firstName" class="form-control" id="fName" name="fName" required="required" placeholder="First Name">
        </div>

        <div class="form-group required">
            <label for="lName" class="col-md-8 control-label">Last Name</label>
            <input type="text" ngControl="lastName" class="form-control" id="lName" name="lName" required="required" placeholder="Last Name">
        </div>

        <div class="form-group required">
            <label for="email" class="col-md-8 control-label">Email address</label>
            <input type="email" ngControl="email" class="form-control" id="email" name="email" required="required" placeholder="Email">
            <p *ngIf="email.pending">Fetching data from the server...</p>
            <div *ngIf="email.touched && !email.valid && !email.pending">
                <p *ngIf="email.errors.required">Email is required.</p>
                <p *ngIf="email.errors.validEmail">Your email is not in valid format</p>
                <p *ngIf="email.errors.emailAlreadyExist">This email is already registered</p>
            </div>
        </div>

        <!--<div class="form-group required">
            <label for="passwd" class="col-md-8 control-label">Password</label>
            <input type="password" ngControl="password" class="form-control" id="passwd" name="passwd" required="required" placeholder="Password">
        </div>

        <div class="form-group required">
            <label for="rPasswd" class="col-md-8 control-label">Retype Password</label>
            <input type="password" ngControl="confirm" class="form-control" id="rPasswd" name="rPasswd" required="required" placeholder="Retype Password">
        </div>-->
        <!--[class.invalid]="passwordGroup.touched && !passwordGroup.valid"-->
        <div ngControlGroup="matching_password" >
            <div class="form-group">
                <label class="col-md-8 control-label" for="passwd">Password</label>
                <input class="form-control" required type="password" ngControl="password" id="passwd" placeholder="Your password" />
            </div>
            <div class="form-group">
                <label for="rPasswd" class="col-md-8 control-label">Password Confirmation</label>
                <input class="form-control" required type="password" ngControl="confirm" id="rPasswd" placeholder="Password Confirmation" />
                <div *ngIf="passwordGroup.touched && !passwordGroup.valid">
                    <p *ngIf="passwordGroup.touched && !passwordGroup.valid">Passwords must match.</p>
                </div>
            </div>
        </div>

        <div class="form-group required">
            <label for="phone" class="col-md-8 control-label">Phone</label>
            <input type="text" ngControl="phone" class="form-control" id="phone" name="phone" required="required" placeholder="phone number">
        </div>

        <button type="submit" [disabled]="!f.valid" class="btn btn-default glab-btn">Submit</button>
        <div class="form-group account-options">
            <a href="#" class="login-btn" [routerLink]="['Login']">Back to <strong>login</strong>?</a>
        </div>
        <!--<p>{{registerForm.value|json}}</p>-->
    </form>
    <!--TODO Remove this later: {{formStatus}}-->
</div>